webpackJsonp([2],{"+63U":function(t,e,n){"use strict";var o={zIndex:2e3,lockCount:0,stack:[],get top(){return this.stack[this.stack.length-1]}},i=10;var r={data:function(){return{direction:""}},methods:{touchStart:function(t){this.resetTouchStatus(),this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY},touchMove:function(t){var e,n,o=t.touches[0];this.deltaX=o.clientX-this.startX,this.deltaY=o.clientY-this.startY,this.offsetX=Math.abs(this.deltaX),this.offsetY=Math.abs(this.deltaY),this.direction=this.direction||(e=this.offsetX,n=this.offsetY,e>n&&e>i?"horizontal":n>e&&n>i?"vertical":"")},resetTouchStatus:function(){this.direction="",this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}}},a=n("N+Bw"),s=!1;if(!a.f)try{var c={};Object.defineProperty(c,"passive",{get:function(){s=!0}}),window.addEventListener("test-passive",null,c)}catch(t){}function l(t,e,n,o){void 0===o&&(o=!1),a.f||t.addEventListener(e,n,!!s&&{capture:!1,passive:o})}function u(t,e,n){a.f||t.removeEventListener(e,n)}function d(t,e){("boolean"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&function(t){t.stopPropagation()}(t)}var f=n("e9HZ"),v=n("j6cy"),p=n.n(v),h=n("6g9A"),y=Object(a.g)("overlay"),m=y[0],b=y[1];function g(t,e,n,o){var i=Object(f.a)({zIndex:e.zIndex},e.customStyle);return t("transition",{attrs:{name:"van-fade"}},[t("div",p()([{directives:[{name:"show",value:e.visible}],style:i,class:[b(),e.className],on:{touchmove:function(t){d(t,!0)}}},Object(h.b)(o,!0)]))])}g.props={zIndex:Number,className:null,visible:Boolean,customStyle:Object};var C,O=m(g),_={className:"",customStyle:{}};function k(){if(o.top){var t=o.top.vm;t.$emit("click-overlay"),t.closeOnClickOverlay&&(t.onClickOverlay?t.onClickOverlay():t.close())}}function $(){if(C||(C=Object(h.c)(O,{on:{click:k}})),o.top){var t=o.top,e=t.vm,n=t.config,i=e.$el,r=i&&i.parentNode?i.parentNode:document.body;r&&r.appendChild(C.$el),Object(f.a)(C,_,n,{visible:!0})}else C.visible=!1}function w(t){var e=o.stack;e.length&&(o.top.vm===t?(e.pop(),$()):o.stack=e.filter(function(e){return e.vm!==t}))}n.d(e,"a",function(){return x});var x={mixins:[r],props:{value:Boolean,overlay:Boolean,overlayStyle:Object,overlayClass:String,closeOnClickOverlay:Boolean,zIndex:[String,Number],getContainer:[String,Function],lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0}},data:function(){return{inited:this.value}},computed:{shouldRender:function(){return this.inited||!this.lazyRender}},watch:{value:function(t){var e=t?"open":"close";this.inited=this.inited||this.value,this[e](),this.$emit(e)},getContainer:function(){this.move()},overlay:function(){this.renderOverlay()}},mounted:function(){this.getContainer&&this.move(),this.value&&this.open()},activated:function(){this.value&&this.open()},beforeDestroy:function(){this.close(),this.getContainer&&this.$parent&&this.$parent.$el&&this.$parent.$el.appendChild(this.$el)},deactivated:function(){this.close()},methods:{open:function(){this.$isServer||this.opened||(void 0!==this.zIndex&&(o.zIndex=this.zIndex),this.opened=!0,this.renderOverlay(),this.lockScroll&&(l(document,"touchstart",this.touchStart),l(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.add("van-overflow-hidden"),o.lockCount++))},close:function(){this.opened&&(this.lockScroll&&(o.lockCount--,u(document,"touchstart",this.touchStart),u(document,"touchmove",this.onTouchMove),o.lockCount||document.body.classList.remove("van-overflow-hidden")),this.opened=!1,w(this),this.$emit("input",!1))},move:function(){var t,e=this.getContainer;e?t="string"==typeof e?document.querySelector(e):e():this.$parent&&(t=this.$parent.$el),t&&t!==this.$el.parentNode&&t.appendChild(this.$el),this.overlay&&$()},onTouchMove:function(t){this.touchMove(t);var e=this.deltaY>0?"10":"01",n=function(t,e){void 0===e&&(e=window);for(var n=t;n&&"HTML"!==n.tagName&&"BODY"!==n.tagName&&1===n.nodeType&&n!==e;){var o=window.getComputedStyle(n).overflowY;if("scroll"===o||"auto"===o)return n;n=n.parentNode}return e}(t.target,this.$el),o=n.scrollHeight,i=n.offsetHeight,r=n.scrollTop,a="11";0===r?a=i>=o?"00":"01":r+i>=o&&(a="10"),"11"===a||"vertical"!==this.direction||parseInt(a,2)&parseInt(e,2)||d(t,!0)},renderOverlay:function(){var t,e;!this.$isServer&&this.value&&(this.overlay?(t=this,e={zIndex:o.zIndex++,className:this.overlayClass,customStyle:this.overlayStyle},o.stack.some(function(e){return e.vm===t})||(o.stack.push({vm:t,config:e}),$())):w(this),this.updateZIndex())},updateZIndex:function(){var t=this;this.$nextTick(function(){t.$el.style.zIndex=o.zIndex++})}}}},"6XoH":function(t,e){},"6g9A":function(t,e,n){"use strict";e.b=function(t,e){var n=r.reduce(function(e,n){return t.data[n]&&(e[a[n]||n]=t.data[n]),e},{});e&&(n.on=n.on||{},Object(o.a)(n.on,t.data.on));return n},e.a=function(t,e){for(var n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];var r=t.listeners[e];r&&(Array.isArray(r)?r.forEach(function(t){t.apply(void 0,o)}):r.apply(void 0,o))},e.c=function(t,e){var n=new i.a({el:document.createElement("div"),props:t.props,render:function(n){return n(t,Object(o.a)({props:this.$props},e))}});return document.body.appendChild(n.$el),n};var o=n("e9HZ"),i=n("xd7I"),r=["ref","style","class","attrs","nativeOn","directives","staticClass","staticStyle"],a={nativeOn:"on"}},"N+Bw":function(t,e,n){"use strict";var o=n("xd7I"),i="--";function r(t,e,n){return e?t+n+e:t}var a=function(t){return function(e,n){return e&&"string"!=typeof e&&(n=e,e=""),e=r(t,e,"__"),n?[e,function t(e,n){if("string"==typeof n)return r(e,n,i);if(Array.isArray(n))return n.map(function(n){return t(e,n)});var o={};return n&&Object.keys(n).forEach(function(t){o[e+i+t]=n[t]}),o}(e,n)]:e}};Object.prototype.hasOwnProperty;var s=o.a.prototype,c=o.a.util.defineReactive;c(s,"$vantLang","zh-CN"),c(s,"$vantMessages",{"zh-CN":{name:"姓名",tel:"电话",save:"保存",confirm:"确认",cancel:"取消",delete:"删除",complete:"完成",loading:"加载中...",telEmpty:"请填写电话",nameEmpty:"请填写姓名",confirmDelete:"确定要删除么",telInvalid:"请填写正确的电话",vanContactCard:{addText:"添加联系人"},vanContactList:{addText:"新建联系人"},vanPagination:{prev:"上一页",next:"下一页"},vanPullRefresh:{pulling:"下拉即可刷新...",loosing:"释放即可刷新..."},vanSubmitBar:{label:"合计："},vanCoupon:{valid:"有效期",unlimited:"无使用门槛",discount:function(t){return t+"折"},condition:function(t){return"满"+t+"元可用"}},vanCouponCell:{title:"优惠券",tips:"使用优惠",count:function(t){return t+"张可用"}},vanCouponList:{empty:"暂无优惠券",exchange:"兑换",close:"不使用优惠",enable:"可使用优惠券",disabled:"不可使用优惠券",placeholder:"请输入优惠码"},vanAddressEdit:{area:"地区",postal:"邮政编码",areaEmpty:"请选择地区",addressEmpty:"请填写详细地址",postalEmpty:"邮政编码格式不正确",defaultAddress:"设为默认收货地址",telPlaceholder:"收货人手机号",namePlaceholder:"收货人姓名",areaPlaceholder:"选择省 / 市 / 区"},vanAddressEditDetail:{label:"详细地址",placeholder:"街道门牌、楼层房间号等信息"},vanAddressList:{add:"新增地址"}}});var l=function(){return s.$vantMessages[s.$vantLang]},u={methods:{slots:function(t,e){void 0===t&&(t="default");var n=this.$slots,o=this.$scopedSlots;return o[t]?o[t](e):n[t]}}},d={type:Array,default:function(){return[]}},f={type:Number,default:0};function v(t){var e=this.name;t.component(e,this),t.component(k("-"+e),this)}function p(t){return{functional:!0,props:t.props,model:t.model,render:function(e,n){return t(e,n.props,function(t){var e=t.scopedSlots||t.data.scopedSlots||{},n=t.slots();return Object.keys(n).forEach(function(t){e[t]||(e[t]=function(){return n[t]})}),e}(n),n)}}}var h=function(t){return function(e){var n;return"function"==typeof e&&(e=p(e)),e.functional||(e.mixins=e.mixins||[],e.mixins.push(u)),e.props&&(n=e.props,Object.keys(n).forEach(function(t){n[t]===Array?n[t]=d:n[t]===Number&&(n[t]=f)})),e.name=t,e.install=v,e}},y=function(t){var e=k(t)+".";return function(t){for(var n=O(l(),e+t)||O(l(),t),o=arguments.length,i=new Array(o>1?o-1:0),r=1;r<o;r++)i[r-1]=arguments[r];return"function"==typeof n?n.apply(void 0,i):n}};function m(t){return[h(t="van-"+t),a(t),y(t)]}n.d(e,"f",function(){return b}),e.c=g,e.e=C,e.b=O,e.a=k,e.d=function(t){return document.body.contains(t)},n.d(e,"g",function(){return m});var b=o.a.prototype.$isServer;function g(t){return void 0!==t&&null!==t}function C(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)}function O(t,e){var n=t;return e.split(".").forEach(function(t){n=g(n[t])?n[t]:""}),n}var _=/-(\w)/g;function k(t){return t.replace(_,function(t,e){return e.toUpperCase()})}},T1vS:function(t,e){},VZIB:function(t,e){},e9HZ:function(t,e,n){"use strict";function o(){return(o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}e.a=o},j6cy:function(t,e,n){"use strict";function o(){return(o=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)}var i=["attrs","props","domProps"],r=["class","style","directives"],a=["on","nativeOn"],s=function(t,e){return function(){t&&t.apply(this,arguments),e&&e.apply(this,arguments)}};t.exports=function(t){return t.reduce(function(t,e){for(var n in e)if(t[n])if(-1!==i.indexOf(n))t[n]=o({},t[n],e[n]);else if(-1!==r.indexOf(n)){var c=t[n]instanceof Array?t[n]:[t[n]],l=e[n]instanceof Array?e[n]:[e[n]];t[n]=c.concat(l)}else if(-1!==a.indexOf(n))for(var u in e[n])if(t[n][u]){var d=t[n][u]instanceof Array?t[n][u]:[t[n][u]],f=e[n][u]instanceof Array?e[n][u]:[e[n][u]];t[n][u]=d.concat(f)}else t[n][u]=e[n][u];else if("hook"==n)for(var v in e[n])t[n][v]=t[n][v]?s(t[n][v],e[n][v]):e[n][v];else t[n]=e[n];else t[n]=e[n];return t},{})}},vqEv:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n("6XoH"),n("T1vS");var o=n("N+Bw"),i=n("+63U"),r=Object(o.g)("popup"),a=r[0],s=r[1],c=a({mixins:[i.a],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(t){var e,n=this;if(this.shouldRender){var o=this.position,i=function(t){return function(){return n.$emit(t)}};return t("transition",{attrs:{name:this.transition||(o?"van-popup-slide-"+o:"van-fade")},on:{afterEnter:i("opened"),afterLeave:i("closed")}},[t("div",{directives:[{name:"show",value:this.value}],class:s((e={},e[o]=o,e))},[this.slots()])])}}}),l=n("4YfN"),u=n.n(l),d=n("zH8l"),f=n("M67l"),v=n("R4Sj"),p=(n("0Hw8"),{data:function(){return{show:!1,pay:[{name:"支付宝",type:1,cls:"alipay"},{name:"微信",type:2,cls:"wechat"}],selected:0}},computed:u()({},Object(v.d)(["orderList","cartList"]),{payType:function(){return this.pay[this.selected].type},total:function(){var t=0;return this.orderList.forEach(function(e){t+=e.price*e.num}),t}}),components:{backHeader:d.a,vanPopup:c},filters:{aprice:function(t){return"￥"+t}},methods:{showPop:function(){this.show=!0},toFail:function(){this.show=!1,Object(f.a)("由于xxx原因失败,重试或返回")},toSuccess:function(){var t=this;this.orderList.map(function(t){return t.cid}).map(function(e){t.cartList.forEach(function(n,o){n.cid==e&&t.$store.commit("deleteGoods",o)})}),this.bus.$emit("clearCheck"),this.$store.commit("removeOrder");var e=this.$route.query.from;this.$router.replace({path:"/Order/paySuccess",query:{from:e}})},selectThis:function(t){this.selected=t},payMoney:function(){this.show=!0}},beforeRouteLeave:function(t,e,n){"Cart"!=t.name&&"rentDetail"!=t.name||this.$store.commit("removeOrder"),n()}}),h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("back-header",{attrs:{theme:"确认订单"}}),t._v(" "),n("div",{staticClass:"center-wrap"},[n("p",{staticClass:"bg"},[t._v("请核对订单信息")]),t._v(" "),n("ul",t._l(t.orderList,function(e,o){return n("li",[n("div",{staticClass:"img-wrap"},[n("img",{attrs:{src:e.spic}})]),t._v(" "),n("div",{staticClass:"product-info"},[n("p",{staticClass:"ellipsis2"},[t._v(t._s(e.goodName))]),t._v(" "),n("p",{staticClass:"justify"},[n("span",{staticClass:"type"},[t._v(t._s(e.type))])])]),t._v(" "),n("div",{staticClass:"a-sum"},[n("span",{staticClass:"theme-color"},[t._v(t._s(t._f("aprice")(e.price)))]),t._v(" "),n("span",[t._v("x"+t._s(e.num))])])])}),0),t._v(" "),n("dl",{staticClass:"payway bg"},[n("dt",{on:{click:t.showPop}},[t._v("支付方式")]),t._v(" "),t._l(t.pay,function(e,o){return n("dd",{class:[e.cls,{selected:t.selected==o}],on:{click:function(e){return t.selectThis(o)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2),t._v(" "),n("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"devTips"},[n("p",{staticClass:"content"},[t._v("\n\t\t\t\tdev:后台调用"+t._s(t.pay[t.selected].name)+"的接口，并执行扣款操作\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"btn-area"},[n("span",{on:{click:t.toFail}},[t._v("失败回调")]),t._v(" "),n("span",{on:{click:t.toSuccess}},[t._v("成功回调")])])])])],1),t._v(" "),n("div",{staticClass:"order-footer border-top"},[t._v("\n\t\t合计:"),n("b",{staticClass:"theme-color"},[t._v(t._s(t._f("aprice")(t.total)))]),n("span",{on:{click:t.payMoney}},[t._v("立即支付")])])],1)},staticRenderFns:[]};var y=n("C7Lr")(p,h,!1,function(t){n("VZIB")},"data-v-3aef9ed8",null);e.default=y.exports}});
//# sourceMappingURL=2.625fd05b92277fc8d095.js.map