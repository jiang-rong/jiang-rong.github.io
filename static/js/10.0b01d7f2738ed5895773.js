webpackJsonp([10],{VZIB:function(t,e){},vqEv:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("6XoH"),s("T1vS");var a=s("N+Bw"),i=s("+63U"),n=Object(a.g)("popup"),o=n[0],r=n[1],c=o({mixins:[i.a],props:{position:String,transition:String,overlay:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},render:function(t){var e,s=this;if(this.shouldRender){var a=this.position,i=function(t){return function(){return s.$emit(t)}};return t("transition",{attrs:{name:this.transition||(a?"van-popup-slide-"+a:"van-fade")},on:{afterEnter:i("opened"),afterLeave:i("closed")}},[t("div",{directives:[{name:"show",value:this.value}],class:r((e={},e[a]=a,e))},[this.slots()])])}}}),l=s("4YfN"),p=s.n(l),u=s("zH8l"),v=s("M67l"),d=s("R4Sj"),f=(s("0Hw8"),{data:function(){return{show:!1,pay:[{name:"支付宝",type:1,cls:"alipay"},{name:"微信",type:2,cls:"wechat"}],selected:0}},computed:p()({},Object(d.d)(["orderList","cartList"]),{payType:function(){return this.pay[this.selected].type},total:function(){var t=0;return this.orderList.forEach(function(e){t+=e.price*e.num}),t}}),components:{backHeader:u.a,vanPopup:c},filters:{aprice:function(t){return"￥"+t}},methods:{showPop:function(){this.show=!0},toFail:function(){this.show=!1,Object(v.a)("由于xxx原因失败,重试或返回")},toSuccess:function(){var t=this;this.orderList.map(function(t){return t.cid}).map(function(e){t.cartList.forEach(function(s,a){s.cid==e&&t.$store.commit("deleteGoods",a)})}),this.bus.$emit("clearCheck"),this.$store.commit("removeOrder");var e=this.$route.query.from;this.$router.replace({path:"/Order/paySuccess",query:{from:e}})},selectThis:function(t){this.selected=t},payMoney:function(){this.show=!0}},beforeRouteLeave:function(t,e,s){"Cart"!=t.name&&"rentDetail"!=t.name||this.$store.commit("removeOrder"),s()}}),h={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("back-header",{attrs:{theme:"确认订单"}}),t._v(" "),s("div",{staticClass:"center-wrap"},[s("p",{staticClass:"bg"},[t._v("请核对订单信息")]),t._v(" "),s("ul",t._l(t.orderList,function(e,a){return s("li",[s("div",{staticClass:"img-wrap"},[s("img",{attrs:{src:e.spic}})]),t._v(" "),s("div",{staticClass:"product-info"},[s("p",{staticClass:"ellipsis2"},[t._v(t._s(e.goodName))]),t._v(" "),s("p",{staticClass:"justify"},[s("span",{staticClass:"type"},[t._v(t._s(e.type))])])]),t._v(" "),s("div",{staticClass:"a-sum"},[s("span",{staticClass:"theme-color"},[t._v(t._s(t._f("aprice")(e.price)))]),t._v(" "),s("span",[t._v("x"+t._s(e.num))])])])}),0),t._v(" "),s("dl",{staticClass:"payway bg"},[s("dt",{on:{click:t.showPop}},[t._v("支付方式")]),t._v(" "),t._l(t.pay,function(e,a){return s("dd",{class:[e.cls,{selected:t.selected==a}],on:{click:function(e){return t.selectThis(a)}}},[t._v("\n\t\t\t\t"+t._s(e.name)+"\n\t\t\t")])})],2),t._v(" "),s("van-popup",{attrs:{"close-on-click-overlay":!1},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[s("div",{staticClass:"devTips"},[s("p",{staticClass:"content"},[t._v("\n\t\t\t\tdev:后台调用"+t._s(t.pay[t.selected].name)+"的接口，并执行扣款操作\n\t\t\t\t")]),t._v(" "),s("div",{staticClass:"btn-area"},[s("span",{on:{click:t.toFail}},[t._v("失败回调")]),t._v(" "),s("span",{on:{click:t.toSuccess}},[t._v("成功回调")])])])])],1),t._v(" "),s("div",{staticClass:"order-footer border-top"},[t._v("\n\t\t合计:"),s("b",{staticClass:"theme-color"},[t._v(t._s(t._f("aprice")(t.total)))]),s("span",{on:{click:t.payMoney}},[t._v("立即支付")])])],1)},staticRenderFns:[]};var _=s("C7Lr")(f,h,!1,function(t){s("VZIB")},"data-v-3aef9ed8",null);e.default=_.exports}});
//# sourceMappingURL=10.0b01d7f2738ed5895773.js.map